# Migration `20200214232334-update-model`

This migration has been generated by Nasir at 2/14/2020, 11:23:34 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
DROP INDEX "quaint"."User.email"

PRAGMA foreign_keys=OFF;

CREATE TABLE "quaint"."new_User" (
    "firstname" TEXT   ,
    "id" INTEGER NOT NULL  PRIMARY KEY AUTOINCREMENT,
    "lastname" TEXT NOT NULL DEFAULT '' ,
    "password" TEXT NOT NULL DEFAULT '' ,
    "username" TEXT NOT NULL DEFAULT '' 
) 

INSERT INTO "quaint"."new_User" ("firstname", "id", "lastname", "username") SELECT "firstname", "id", "lastname", "username" FROM "quaint"."User"

DROP TABLE "quaint"."User";

ALTER TABLE "quaint"."new_User" RENAME TO "User";

CREATE UNIQUE INDEX "quaint"."User.username" ON "User"("username")

PRAGMA "quaint".foreign_key_check;

PRAGMA foreign_keys=ON;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200214231747-initial..20200214232334-update-model
--- datamodel.dml
+++ datamodel.dml
@@ -1,17 +1,17 @@
 datasource db {
   provider = "sqlite"
-  url = "***"
+  url      = "sqlite:./dev.db"
 }
 generator client {
   provider = "prisma-client-js"
 }
 model User {
   id          Int     @id @default(autoincrement())
-  email       String  @unique
-  username    String
+  username    String  @unique
   firstname   String?
   lastname    String
+  password    String
 }
```


